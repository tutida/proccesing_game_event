<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>processing</title>
<script type="text/javascript" src="./js/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="./js/processing.min.js"></script>
</head>

<script type="text/processing"  data-processing-target="mycanvas">

/*********************************************
STEP_06 : 障害物を作ろう_2ー答え
**********************************************/

/*********************************************
- 壁が繰り返して出るようしてみよう
  - 壁が端っこ（左）まで行ったら「右側に戻る」ように
- 壁の高さが毎回変わるようにしてみよう

[Point]
- if文
  if ( 条件 ) {
    条件がOKの場合(true)はここの処理を通る
  }
  (例)
    if ( 壁の位置が端っこ ) {
      壁の位置を右端に戻す
    }

- random(0,100)
  ランダム関数 randam(x,y) xからyまでの数字をランダムに出してくれる
*********************************************/

//画像 読み込み用
PImage sea;

//壁（上）の位置（横）と高さ
int kabe_ue_x;
int kabe_ue_takasa;

//壁（下）の位置（横）と高さ
int kabe_sita_x;
int kabe_sita_takasa;

//画面の初期設定
void setup() {
   //画面サイズ設定
   size(1065, 612);

   //背景画像を読み込み
   sea = loadImage("./image/sea.png");

   //壁（上）の位置（横）と高さ（初期設定）
   kabe_ue_x = 1065;
   kabe_ue_takasa = 300;

   //壁（上）の位置（横）と高さ（初期設定）
   kabe_sita_x = 1065*1.5;
   kabe_sita_takasa = 300;
}

//描画処理
void draw() {
  //背景を設定
  background(sea);

  //---壁（上）の動き-----------//
  //茶色を設定
  fill(102, 51, 0);
  //壁を画面に描画 rect(横位置, 縦位置, 横大きさ, 縦大きさ)
  rect(kabe_ue_x, 0, 50, kabe_ue_takasa);
  //壁（上）の横の位置を-3
  kabe_ue_x = kabe_ue_x - 3;
  //壁（上）の横位置が画面の端っこまできたら
  if (kabe_ue_x < 0) {
    //壁（上）の横位置を元に戻す
    kabe_ue_x = width;
    //壁（上）の縦の大きさをランダムに決定
    kabe_ue_takasa = random(200, 500);
  }
  //--------------------//

  //---壁（下）の動き-----------//
  //茶色を設定
  fill(102, 51, 0);
  //壁を画面に描画 rect(横位置, 縦位置, 横大きさ, 縦大きさ)
  rect(kabe_sita_x, 612, 50, -kabe_sita_takasa);
  //壁（下）の横の位置を-3
  kabe_sita_x = kabe_sita_x - 3;
  //壁（下）の横位置が画面の端っこまできたら
  if (kabe_sita_x < 0) {
    //壁（下）の横位置を元に戻す
    kabe_sita_x = width;
    //壁（下）の縦の大きさをランダムに決定
    kabe_sita_takasa = random(200, 500);
  }
  //--------------------//
}

</script>

<body>
    <canvas id="mycanvas"></canvas>
</body>
</html>